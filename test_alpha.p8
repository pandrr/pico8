pico-8 cartridge // http://www.pico-8.com
version 27
__lua__

pal={5,13,6,7,7}


function rect(_x,_y,_w,_h)
 local yh=_y+_h;
 local xw=_x+_w;
	for x=_x,xw do
		for y=_y,yh do
		
		
	local col=pget(x,y);
	if col==0 then pset(x,y,pal[1]); 
	elseif col==pal[1] then pset(x,y,pal[2]);
	elseif col==pal[2] then pset(x,y,pal[3]);
	elseif col==pal[3] then pset(x,y,pal[4]); end
		

		end
	end
end

rects={}
for i=1,13 do
 rects[i]={};
 rects[i][0]=64;
 rects[i][1]=64;
 rects[i]["speedx"]=rnd(6)-3;
 rects[i]["speedy"]=rnd(6)-3;
 rects[i]["w"]=rnd(30)+10;
 rects[i]["h"]=rnd(30)+10;
end

function _draw()
 local size=65;
	local xp=1;
	local yp=1;

 cls();
 for i=1,count(rects) do
 	xp=rects[i][0];
 	yp=rects[i][1];

  if(xp<0 or xp>107) rects[i]["speedx"]*=-1;
  if(yp<0 or yp>107) rects[i]["speedy"]*=-1;

 	rects[i][0]+=rects[i]["speedx"];
 	rects[i][1]+=rects[i]["speedy"];
 	rect(xp,yp,rects[i]["w"],rects[i]["h"]);

	end
	
	print(stat(7),0,114,3);
	print(stat(1),20,114,3);
	print("",0,120);
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
